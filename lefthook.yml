pre-commit:
  parallel: false
  jobs:
    - run: mint run swiftformat --config .swiftformat {staged_files}
      glob: "*.{swift}"
      stage_fixed: true
      exclude:
        - Sources/StreamChatSwiftUI/Generated/**
        - Sources/StreamChatSwiftUI/StreamNuke/**
        - Sources/StreamChatSwiftUI/StreamSwiftyGif/**
      skip:
        - merge
        - rebase

    - run: mint run swiftlint lint --config .swiftlint.yml --fix --progress --quiet --reporter json {staged_files}
      glob: "*.{swift}"
      stage_fixed: true
      skip:
        - merge
        - rebase

    - run: mint run swiftlint lint --config .swiftlint.yml --strict --progress --quiet --reporter json {staged_files}
      glob: "*.{swift}"
      stage_fixed: true
      skip:
        - merge
        - rebase
